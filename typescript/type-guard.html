<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.32">
    <link rel="shortcut icon" href="/favicons/favicon.ico"><title>타입 가드 | dailyuno Tech Blog</title><meta name="description" content="">
    <link rel="modulepreload" href="/assets/app.49c6a941.js"><link rel="modulepreload" href="/assets/type-guard.html.67f5128c.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/type-guard.html.bc50afab.js">
    <link rel="stylesheet" href="/assets/style.b5235dab.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">dailyuno Tech Blog</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/html/tags.md" class="sidebar-item sidebar-heading" aria-label="HTML"><!--[--><!--]--> HTML <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/html/tags.html" class="sidebar-item" aria-label="태그"><!--[--><!--]--> 태그 <!--[--><!--]--></a><!----></li><li><a href="/html/semantic-tags.html" class="sidebar-item" aria-label="시맨틱 태그"><!--[--><!--]--> 시맨틱 태그 <!--[--><!--]--></a><!----></li><li><a href="/html/attributes.html" class="sidebar-item" aria-label="속성"><!--[--><!--]--> 속성 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/css/flex.md" class="sidebar-item sidebar-heading" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/css/flex.html" class="sidebar-item" aria-label="Flex"><!--[--><!--]--> Flex <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/javascript/scope.md" class="sidebar-item sidebar-heading" aria-label="Javascript"><!--[--><!--]--> Javascript <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/javascript/event-loop.html" class="sidebar-item" aria-label="이벤트 루프"><!--[--><!--]--> 이벤트 루프 <!--[--><!--]--></a><!----></li><li><a href="/javascript/queues.html" class="sidebar-item" aria-label="큐의 종류"><!--[--><!--]--> 큐의 종류 <!--[--><!--]--></a><!----></li><li><a href="/javascript/prototype.html" class="sidebar-item" aria-label="프로토타입"><!--[--><!--]--> 프로토타입 <!--[--><!--]--></a><!----></li><li><a href="/javascript/this.html" class="sidebar-item" aria-label="this"><!--[--><!--]--> this <!--[--><!--]--></a><!----></li><li><a href="/javascript/scope.html" class="sidebar-item" aria-label="스코프"><!--[--><!--]--> 스코프 <!--[--><!--]--></a><!----></li><li><a href="/javascript/hoisting.html" class="sidebar-item" aria-label="호이스팅"><!--[--><!--]--> 호이스팅 <!--[--><!--]--></a><!----></li><li><a href="/javascript/XMLHttpRequest.html" class="sidebar-item" aria-label="XMLHTTPRequest"><!--[--><!--]--> XMLHTTPRequest <!--[--><!--]--></a><!----></li><li><a href="/javascript/IndexedDB.html" class="sidebar-item" aria-label="IndexedDB"><!--[--><!--]--> IndexedDB <!--[--><!--]--></a><!----></li><li><a href="/javascript/localStorage.html" class="sidebar-item" aria-label="localStorage"><!--[--><!--]--> localStorage <!--[--><!--]--></a><!----></li><li><a href="/javascript/promise.html" class="sidebar-item" aria-label="Promise"><!--[--><!--]--> Promise <!--[--><!--]--></a><!----></li><li><a href="/javascript/iteration-protocols.html" class="sidebar-item" aria-label="이터레이션 프로토콜"><!--[--><!--]--> 이터레이션 프로토콜 <!--[--><!--]--></a><!----></li><li><a href="/javascript/generator.html" class="sidebar-item" aria-label="제너레이터"><!--[--><!--]--> 제너레이터 <!--[--><!--]--></a><!----></li><li><a href="/javascript/async-await.html" class="sidebar-item" aria-label="Async &amp; Await"><!--[--><!--]--> Async &amp; Await <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/typescript/init.md" class="sidebar-item sidebar-heading active" aria-label="Typescript"><!--[--><!--]--> Typescript <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/typescript/init.html" class="sidebar-item" aria-label="시작하기"><!--[--><!--]--> 시작하기 <!--[--><!--]--></a><!----></li><li><a href="/typescript/type-annotation.html" class="sidebar-item" aria-label="타입 어노테이션"><!--[--><!--]--> 타입 어노테이션 <!--[--><!--]--></a><!----></li><li><a href="/typescript/primitive-types.html" class="sidebar-item" aria-label="원시 타입"><!--[--><!--]--> 원시 타입 <!--[--><!--]--></a><!----></li><li><a href="/typescript/special-types.html" class="sidebar-item" aria-label="특수 타입"><!--[--><!--]--> 특수 타입 <!--[--><!--]--></a><!----></li><li><a href="/typescript/array-tuple.html" class="sidebar-item" aria-label="배열과 튜플"><!--[--><!--]--> 배열과 튜플 <!--[--><!--]--></a><!----></li><li><a href="/typescript/enum.html" class="sidebar-item" aria-label="열거형"><!--[--><!--]--> 열거형 <!--[--><!--]--></a><!----></li><li><a href="/typescript/enum-issue.html" class="sidebar-item" aria-label="열거형의 문제점"><!--[--><!--]--> 열거형의 문제점 <!--[--><!--]--></a><!----></li><li><a href="/typescript/type-alias.html" class="sidebar-item" aria-label="타입 별칭"><!--[--><!--]--> 타입 별칭 <!--[--><!--]--></a><!----></li><li><a href="/typescript/type-assertion.html" class="sidebar-item" aria-label="타입 단언"><!--[--><!--]--> 타입 단언 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/typescript/type-guard.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="타입 가드"><!--[--><!--]--> 타입 가드 <!--[--><!--]--></a><!----></li><li><a href="/typescript/unions-and-intersections.html" class="sidebar-item" aria-label="유니온과 교차 타입"><!--[--><!--]--> 유니온과 교차 타입 <!--[--><!--]--></a><!----></li><li><a href="/typescript/interface.html" class="sidebar-item" aria-label="인터페이스"><!--[--><!--]--> 인터페이스 <!--[--><!--]--></a><!----></li><li><a href="/typescript/generic.html" class="sidebar-item" aria-label="제네릭"><!--[--><!--]--> 제네릭 <!--[--><!--]--></a><!----></li><li><a href="/typescript/class.html" class="sidebar-item" aria-label="클래스"><!--[--><!--]--> 클래스 <!--[--><!--]--></a><!----></li><li><a href="/typescript/type-compatibility.html" class="sidebar-item" aria-label="타입 호환성"><!--[--><!--]--> 타입 호환성 <!--[--><!--]--></a><!----></li><li><a href="/typescript/type-relationship.html" class="sidebar-item" aria-label="타입 간의 관계"><!--[--><!--]--> 타입 간의 관계 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/react/init.md" class="sidebar-item sidebar-heading" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/react/init.html" class="sidebar-item" aria-label="시작하기"><!--[--><!--]--> 시작하기 <!--[--><!--]--></a><!----></li><li><a href="/react/context-api.html" class="sidebar-item" aria-label="Context API"><!--[--><!--]--> Context API <!--[--><!--]--></a><!----></li><li><a href="/react/higher-order-component.html" class="sidebar-item" aria-label="고차 컴포넌트"><!--[--><!--]--> 고차 컴포넌트 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/react/hooks/init.md" class="sidebar-item sidebar-heading" aria-label="React Hooks"><!--[--><!--]--> React Hooks <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/react/hooks/init.html" class="sidebar-item" aria-label="Hooks이란?"><!--[--><!--]--> Hooks이란? <!--[--><!--]--></a><!----></li><li><a href="/react/hooks/use-state.html" class="sidebar-item" aria-label="useState"><!--[--><!--]--> useState <!--[--><!--]--></a><!----></li><li><a href="/react/hooks/use-effect.html" class="sidebar-item" aria-label="useEffect"><!--[--><!--]--> useEffect <!--[--><!--]--></a><!----></li><li><a href="/react/hooks/use-context.html" class="sidebar-item" aria-label="useContext"><!--[--><!--]--> useContext <!--[--><!--]--></a><!----></li><li><a href="/react/hooks/use-ref.html" class="sidebar-item" aria-label="useRef"><!--[--><!--]--> useRef <!--[--><!--]--></a><!----></li><li><a href="/react/hooks/use-memo.html" class="sidebar-item" aria-label="useMemo"><!--[--><!--]--> useMemo <!--[--><!--]--></a><!----></li><li><a href="/react/hooks/use-callback.html" class="sidebar-item" aria-label="useCallback"><!--[--><!--]--> useCallback <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/redux/init.md" class="sidebar-item sidebar-heading" aria-label="Redux"><!--[--><!--]--> Redux <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/redux/init.html" class="sidebar-item" aria-label="시작하기"><!--[--><!--]--> 시작하기 <!--[--><!--]--></a><!----></li><li><a href="/redux/connect.html" class="sidebar-item" aria-label="connect"><!--[--><!--]--> connect <!--[--><!--]--></a><!----></li><li><a href="/redux/use-dispatch.html" class="sidebar-item" aria-label="useDispatch"><!--[--><!--]--> useDispatch <!--[--><!--]--></a><!----></li><li><a href="/redux/use-selector.html" class="sidebar-item" aria-label="useSelector"><!--[--><!--]--> useSelector <!--[--><!--]--></a><!----></li><li><a href="/redux/reselect.html" class="sidebar-item" aria-label="reselect"><!--[--><!--]--> reselect <!--[--><!--]--></a><!----></li><li><a href="/redux/redux-thunk.html" class="sidebar-item" aria-label="redux-thunk"><!--[--><!--]--> redux-thunk <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/web-technology/browser-render.md" class="sidebar-item sidebar-heading" aria-label="Web Technology"><!--[--><!--]--> Web Technology <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/web-technology/browser-render.html" class="sidebar-item" aria-label="브라우저 렌더링"><!--[--><!--]--> 브라우저 렌더링 <!--[--><!--]--></a><!----></li><li><a href="/web-technology/cors.html" class="sidebar-item" aria-label="CORS"><!--[--><!--]--> CORS <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/computer-science/functional-programming.md" class="sidebar-item sidebar-heading" aria-label="Computer Science"><!--[--><!--]--> Computer Science <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/computer-science/functional-programming.html" class="sidebar-item" aria-label="함수형 프로그래밍"><!--[--><!--]--> 함수형 프로그래밍 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h2 id="타입-가드-type-guard" tabindex="-1"><a class="header-anchor" href="#타입-가드-type-guard" aria-hidden="true">#</a> 타입 가드 (Type Guard)</h2><p>타입 가드는 <code>if</code>와 <code>switch</code>문과 같은 조건부 블록을 통해 타입을 추론을 할 수 있도록 범위를 좁혀나가는 방법이라고 볼 수 있다. 트랜스파일링 작업 시, 타입을 추론할 수 있도록 코드를 작성하면 예기치 못 한 오류가 발생하는 것을 예방할 수 있게 된다.</p><p>타입스크립트에서는 함수/메소드에 들어올 매개변수를 유니온 타입을 통해 허용 타입을 설정할 수 있으며, 선택형 매개 변수로 만들 수 있다. 이 경우, 우리는 매개 변수에 어떠한 타입이 들어올지 모를 뿐만 아니라 선택형 매개 변수일 경우에는 들어오지 않는 상황을 고려해야 한다.</p><p>예를 들어, 다음과 같이 숫자에 콤마를 찍는 함수가 있다고 가정해보자.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">comma</span><span class="token punctuation">(</span>num<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\B(?=(\d{3})+(?!\d))</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>num</code>은 숫자와 문자열 모두를 허용하는데, <code>replace</code>는 문자열에서 지원하는 메소드로 숫자는 <code>replace</code> 메소드를 찾을 수 없어서 에러가 발생한다.</p><p>즉 위와 같은 경우에는 타입 가드를 통해, 오류가 발생하지 않도록 범위를 좁혀야 한다.</p><h2 id="타입-구분-typeof" tabindex="-1"><a class="header-anchor" href="#타입-구분-typeof" aria-hidden="true">#</a> 타입 구분 (typeof)</h2><p>타입스크립트는 자바스크립트와 마찬가지로 <code>typeof</code> 연산자를 통해, 어떠한 타입인지 확인할 수 있다. 다만 <code>typeof</code>는 호환을 위해서 자바스크립트에서 제공하는 타입만 반환한다.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">typeof</span> operand
<span class="token keyword">typeof</span><span class="token punctuation">(</span>operand<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>typeof 연산자를 사용하면 <code>string</code>, <code>number</code>, <code>bigint</code>, <code>boolean</code>, <code>symbol</code>, <code>undefined</code>, <code>object</code>, <code>function</code> 타입 중 하나로 반환된다.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">let</span> username <span class="token operator">=</span> <span class="token string">&quot;홍길동&quot;</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> username<span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token comment">// string</span>

<span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// number</span>

<span class="token keyword">let</span> safeInteger <span class="token operator">=</span> <span class="token function">BigInt</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token constant">MAX_SAFE_INTEGER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> safeInteger<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bigint</span>

<span class="token keyword">let</span> isChild <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> isChild<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// boolean</span>

<span class="token keyword">let</span> exampleSymbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;example&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> exampleSymbol<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// symbol</span>

<span class="token keyword">let</span> user<span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>

<span class="token keyword">let</span> token <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span>

<span class="token keyword">class</span> <span class="token class-name">Post</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> Post<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>예를 들어, 상품의 가격의 소수점을 두 자리로 표기하는 함수를 만든다고 가정해보자. 매개 변수로 숫자와 문자열을 허용할 경우, 문자열은 <code>toFixed</code> 메소드를 사용하기 위해서 숫자로 변환해줘야 한다.</p><p>다음과 같이 <code>typeof</code>의 사용하여 함수를 만들 수 있다.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">formatProductPrice</span><span class="token punctuation">(</span>price<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 타입이 문자열인지 확인한다.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> price <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// price는 타입이 문자열 혹은 숫자인 경우만 존재하므로</span>
  <span class="token comment">// 여기서 price의 타입은 숫자가 된다.</span>
  <span class="token keyword">return</span> price<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="인스턴스-구분-instanceof" tabindex="-1"><a class="header-anchor" href="#인스턴스-구분-instanceof" aria-hidden="true">#</a> 인스턴스 구분 (instanceof)</h2><p><code>instanceof</code> 연산자는 해당 객체의 인스턴스인지에 대한 여부를 확인하고 맞을 경우 <code>true</code>를 반환한다.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>objectName <span class="token keyword">instanceof</span> <span class="token class-name">objectType</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><code>objectName</code>은 객체와 비교할 대상으로 문자열, 숫자, 객체등 모든 타입이 올 수 있다. <code>objectType</code>은 <code>Date</code>, <code>Set</code>, <code>Map</code>과 같은 객체 타입이 와야하며, 내장 객체 타입뿐만 아니라 <code>class</code>와 <code>function</code>을 통해 정의한 객체 타입도 올 수 있다.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items <span class="token keyword">instanceof</span> <span class="token class-name">Set</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>예를 들어, 날짜가 유효한지 확인하는 함수를 만든다고 가정해보자. 매개 변수로 <code>Date</code> 객체, 문자열, 숫자를 허용할 경우, 타입에 따라 각각 유효한지 확인해야 한다.</p><p>다음과 같이 <code>instanceof</code>를 사용하여, 타입에 따른 코드를 작성할 수 있다.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">isDate</span><span class="token punctuation">(</span>date<span class="token operator">:</span> Date <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Date 객체의 인스턴스인지 확인한다.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>date <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 유효한 날짜인지 확인한다.</span>
    <span class="token keyword">return</span> <span class="token function">isFinite</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 새로운 Date 객체 생성하고</span>
  <span class="token comment">// 유효한 날짜인지 확인한다.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="객체-구분-in" tabindex="-1"><a class="header-anchor" href="#객체-구분-in" aria-hidden="true">#</a> 객체 구분 (in)</h2><p><code>in</code> 연산자는 객체가 특정 프로퍼티를 가지고 있는지 확인할 수 있다.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>propNameOrNumber <span class="token keyword">in</span> objectName
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><code>propNameOrNumber</code>는 프로퍼티의 이름 혹은 배열의 인덱스로 문자열, 숫자, 심볼이 올 수 있다. <code>objectName</code>에는 객체와 생성된 인스턴스가 올 수 있다.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// 배열</span>
<span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token number">1</span> <span class="token keyword">in</span> items<span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token number">5</span> <span class="token keyword">in</span> items <span class="token comment">// false</span>

<span class="token comment">// 내장 객체</span>
<span class="token string">&quot;scrollY&quot;</span> <span class="token keyword">in</span> window <span class="token comment">// true</span>

<span class="token comment">// 사용자 정의 객체</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;홍길동&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token string">&quot;name&quot;</span> <span class="token keyword">in</span> user<span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token string">&quot;weight&quot;</span> <span class="token keyword">in</span> user<span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>다음과 같이 <code>in</code> 연산자를 사용하여, 객체를 구분할 수 있다.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Player</span> <span class="token punctuation">{</span>
  <span class="token function">attack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Enemy</span> <span class="token punctuation">{</span>
  <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span>playerOrEnemy<span class="token operator">:</span> Player <span class="token operator">|</span> Enemy<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;attack&quot;</span> <span class="token keyword">in</span> playerOrEnemy<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Player인 경우</span>
    playerOrEnemy<span class="token punctuation">.</span><span class="token function">attack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// Enemy인 경우</span>
    playerOrEnemy<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="리터럴-타입" tabindex="-1"><a class="header-anchor" href="#리터럴-타입" aria-hidden="true">#</a> 리터럴 타입</h2><p>유니온 타입 혹은 열거형으로 선언되어 있는 경우, 각각을 리터럴 타입으로 간주하는데, 다음과 같이 <code>switch</code>를 사용하여 구분할 수 있다. <code>if</code>문을 사용하는 경우에는 <code>===</code>, <code>!==</code>, <code>==</code>, <code>!=</code> 연산자를 통해 구분한다.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Status</span> <span class="token operator">=</span> <span class="token number">400</span> <span class="token operator">|</span> <span class="token number">401</span> <span class="token operator">|</span> <span class="token number">403</span> <span class="token operator">|</span> <span class="token number">404</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getLogText</span><span class="token punctuation">(</span>status<span class="token operator">:</span> Status<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token number">400</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token string">&quot;BadRequest&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">401</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token string">&quot;Unauthorized&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">403</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token string">&quot;Forbidden&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">404</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token string">&quot;NotFound&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="타입-서술어-type-predicate" tabindex="-1"><a class="header-anchor" href="#타입-서술어-type-predicate" aria-hidden="true">#</a> 타입 서술어 (type predicate)</h2><p>타입스크립트에서는 반환 타입에 <code>is</code> 키워드를 사용함으로써, 사용자 정의 타입 가드를 정의할 수 있다.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">functionName</span><span class="token punctuation">(</span>parameterName<span class="token punctuation">)</span><span class="token operator">:</span> parameterName <span class="token keyword">is</span> Type<span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>이를 타입 서술어라고 부르며, <code>parameterName</code>은 함수의 매개 변수 이름이어야 하며, 함수는 <code>boolean</code> 값을 반환해야 한다. 타입스크립트에게 들어온 매개 변수가 특정 타입인지에 대한 여부를 알려주는 함수라고 보면 된다.</p><p>타입 서술어는 다음과 같이 사용할 수 있다.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Player</span> <span class="token punctuation">{</span>
  <span class="token function">attack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Enemy</span> <span class="token punctuation">{</span>
  <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">isPlayer</span><span class="token punctuation">(</span>user<span class="token operator">:</span> Player <span class="token operator">|</span> Enemy<span class="token punctuation">)</span><span class="token operator">:</span> user <span class="token keyword">is</span> Player <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>user <span class="token keyword">as</span> Player<span class="token punctuation">)</span><span class="token punctuation">.</span>attack <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><code>isPlayer</code> 함수는 <code>Player</code> 혹은 <code>Enemy</code>를 매개 변수로 허용하는데, 매개 변수의 타입이 <code>Player</code>인지에 대해 메소드를 통해 확인하여 <code>boolean</code> 값을 반환한다.</p><p>타입 서술어를 사용하지 않고, <code>if</code>문으로도 가능하다고 생각할 수도 있다. 하지만 <code>if</code>문을 사용하여 코드를 작성할 경우, 다음과 같은 문제가 발생한다.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">let</span> user<span class="token operator">:</span> Player <span class="token operator">|</span> Enemy <span class="token operator">=</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>user <span class="token keyword">as</span> Player<span class="token punctuation">)</span><span class="token punctuation">.</span>attack<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  user<span class="token punctuation">.</span><span class="token function">attack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Property &#39;attack&#39; does not exist on type &#39;Enemy&#39;.</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  user<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Property &#39;move&#39; does not exist on type &#39;Player&#39;.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>우리는 <code>user</code>에 <code>attack</code> 메소드가 존재할 경우, <code>Player</code> 타입이라는 걸 알 수 있다. 하지만 타입스크립트는 <code>user</code>에 <code>Player</code>와 <code>Enemy</code> 둘 중 어떤 타입이 올지 모르기에 오류가 발생한다.</p><p>즉 우리는 타입스크립트에게 어떤 타입이라고 명시하여 오류를 방지해야 하는데, 명시하기 위한 방법이 타입 서술어라고 볼 수 있다.</p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 34119537+dailyuno@users.noreply.github.com">dailyuno</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/typescript/type-assertion.html" class="" aria-label="타입 단언"><!--[--><!--]--> 타입 단언 <!--[--><!--]--></a></span><span class="next"><a href="/typescript/unions-and-intersections.html" class="" aria-label="유니온과 교차 타입"><!--[--><!--]--> 유니온과 교차 타입 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.49c6a941.js" defer></script>
  </body>
</html>
